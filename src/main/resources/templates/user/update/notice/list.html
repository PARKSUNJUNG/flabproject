<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Notice</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/user/global.css}" />
    <link rel="stylesheet" th:href="@{/css/user/update/notice.css}" />
</head>
<body>
<div th:replace="user/fragments/header :: header"></div>

<main>
    <div class="container-fluid mt-4">
        <div class="row">

            <!-- 좌측 Update 메뉴 -->
            <aside class="col-md-2 mb-4 mb-md-0">
                <ul class="list-group update-sidebar">
                    <li class="list-group-item active">
                        <a th:href="@{/update/notices}" class="sidebar-link">
                            Notice
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a th:href="@{/update/photos}" class="sidebar-link">
                            Photo
                        </a>
                    </li>
                </ul>
            </aside>

            <!-- 우측 공지 리스트 -->
            <section class="col-md-10 d-flex flex-column min-vh-100">
                <div class="mb-4">
                    <h3 class="fw-bold">공지사항</h3>
                    <p class="text-muted small">
                        업데이트 및 중요한 소식을 안내드립니다.
                    </p>
                </div>

                <ul class="list-group notice-list">
                    <li class="list-group-item notice-item"
                        th:each="notice : ${response.content}">

                        <a th:href="@{/update/notices/{id}(id=${notice.id})}"
                           class="d-flex justify-content-between align-items-center text-decoration-none text-dark">

                            <div class="d-flex align-items-center gap-3 notice-row">
                                <span class="notice-category"
                                      th:text="${notice.updateCategory}">
                                </span>

                                <span class="fw-medium notice-title"
                                      th:text="${notice.title}">
                                </span>
                            </div>

                            <span class="text-muted small"
                                  th:text="${#temporals.format(notice.createdAt, 'yyyy.MM.dd')}">
                            </span>
                        </a>

                    </li>

                    <li class="list-group-item text-center text-muted py-5"
                        th:if="${#lists.isEmpty(response.content)}">
                        등록된 공지사항이 없습니다.
                    </li>

                </ul>

                <!-- pagination -->
                <nav class="mt-auto my-4">
                    <div th:replace="admin/fragments/pagination :: pagination(
                        ${response},
                        '/update/notices'
                    )"></div>
                </nav>
            </section>
        </div>
    </div>
</main>

</body>
</html>