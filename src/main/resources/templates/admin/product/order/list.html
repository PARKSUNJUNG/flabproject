<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>관리자 주문 목록</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/admin/global_admin.css}" />
</head>
<body>
<div class="admin-layout">
    <th:block th:replace="admin/fragments/sidebar :: adminSidebar('order')"/>

    <main class="admin-content d-flex flex-column">
        <div class="container mt-5 flex-grow-1">

            <h2 class="fw-bold">주문 목록</h2>

            <table class="table table-hover align-middle product-table mt-5">
                <thead class="table-light text-center">
                <tr>
                    <th>#</th>
                    <th>주문자</th>
                    <th>연락처</th>
                    <th>주문상태</th>
                    <th>총 수량</th>
                    <th>총 금액</th>
                    <th>주문일시</th>
                    <th>상세</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order, iter : ${orders.content}">
                    <td th:text="${(orders.page - 1) * orders.size + iter.index + 1}" class="text-center"></td>
                    <td th:text="${order.ordererName}" class="text-center"></td>
                    <td th:text="${order.ordererPhone}" class="text-center"></td>

                    <td class="text-center">
                        <span class="badge bg-secondary" th:text="${order.status}"></span>
                    </td>

                    <td th:text="${order.totalQuantity}" class="text-center"></td>

                    <td th:text="${#numbers.formatInteger(order.totalPrice, 3, 'COMMA') + '원'}" class="text-center"></td>

                    <td th:text="${#temporals.format(order.orderedAt, 'yyyy-MM-dd HH:mm')}" class="text-center"></td>

                    <td class="text-center">
                        <a th:href="@{/admin/orders/{id}(id=${order.orderId})}"
                           class="btn btn-sm btn-primary">
                            보기
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>

        <!-- pagination -->
        <div class="pagination-wrapper">
            <div th:replace="admin/fragments/pagination :: pagination(
                ${orders},
                '/admin/orders'
            )"></div>
        </div>

    </main>
</div>
</body>
</html>